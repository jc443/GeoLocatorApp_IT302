<!DOCTYPE html>
<html>


<script type="/text/javascript" charset="utf-8" src="cordova.js"></script>
<script type="text/javascript" charset="utf-8">
var count = 0;
document.addEventListener("deviceready",onDeviceReady,false);
var watchID= null;
function onDeviceReady(){
	document.addEventListener("backbutton", onBackKeyDown, false);
	var options = {timeout: 4000};
	watchID = navigator.geolocation.watchPosition(onGeolocaionSuccess, onGeolocationError, options);
		

	
}
 
function onGeolocaionSuccess(position){
	document.addEventListener("backbutton", onBackKeyDown, false);
	
	count = count + 1;
	var element = document.getElementById('geolocation');
	element.innerHTML = '<h1>' +
						'Count is: '	+	count	+ '<br />'+
						'Latitude: '	+	position.coords.latitude	+ '<br />'+
						'Longitude: '	+	position.coords.longitude	+ '<br />'+
						'Altitude: '	+	position.coords.altitude	+ '<br />'+
						'Accuracy: '	+	position.coords.accuracy	+ '<br />'+
						'Altitude Accuracy: '	+	position.coords.altitudeAccuracy	+ '<br />'+
						'Heading: '	+	position.coords.heading	+ '<br />'+
						'Speed: '	+ position.coords.speed	+ '<br />'+
						'Timestamp: '	+	position.timesamp + '<br />'+
						'</h1>';
}
function onBackKeyDown() {
    
    var r = confirm("You can lose all of your data. . .");
    if (r == true) {
        txt = "You exited";
    } else {
        txt= "Returning to the app";
    }
 	
 }

function onGeolocationError(){
	alert('code: '	+error.code	+ '\n'+
		'message: ' + error.message + '\n');
}

function checkConnection() {
    var networkState = navigator.connection.type;
    var states = {};
    states[Connection.UNKNOWN]  = 'Unknown connection';
    states[Connection.ETHERNET] = 'Ethernet connection';
    states[Connection.WIFI]     = 'WiFi connection';
    states[Connection.CELL_2G]  = 'Cell 2G connection';
    states[Connection.CELL_3G]  = 'Cell 3G connection';
    states[Connection.CELL_4G]  = 'Cell 4G connection';
    states[Connection.CELL]     = 'Cell generic connection';
    states[Connection.NONE]     = 'No network connection';
    alert('Connection type: ' + states[networkState]);
    
}
</script>

<head>

	<title>Capture Photo</title>
</head>


<body>
	<button onclick= "onDeviceReady()">popup</button> <br><br>
	<button onclick= "checkConnection()">check conn</button> <br><br>
	<div id="geolocation">
		<h1>
			Latitude and Longitude for geolocation goes here.
		</h1>
	</div>
</body>
</html>
